
# 水印生成命令行程序需求分析

## 1. 项目目标
开发一个基于命令行的图片水印批量生成工具，使用 Python 语言，依赖 pillow 和 piexif 库。

## 2. 功能需求

1. 用户通过命令行输入图片文件路径（可为单个图片或目录）。
2. 程序自动遍历路径下所有图片文件，读取其 EXIF 信息，提取拍摄时间（年月日）。
3. 以拍摄时间（年月日）作为水印内容，添加到图片上。
4. 用户可通过命令行参数自定义：
   - 字体大小
   - 字体颜色
   - 水印在图片上的位置（如左上角、居中、右下角等）
5. 程序将水印文本绘制到图片上。
6. 处理后的图片保存到原目录下名为“原目录名_watermark”的子目录中，文件名与原图片一致。

## 3. 非功能需求

1. 支持常见图片格式（如 JPG、PNG）。
2. 若图片无 EXIF 拍摄时间信息，需有容错处理（如跳过或提示）。
3. 操作界面为命令行，参数简洁明了。
4. 生成的水印图片文件名与原文件一致，保存在新目录下。

## 4. 主要流程

1. 用户通过命令行输入图片路径及参数。
2. 程序遍历目录下所有图片文件。
3. 对每张图片：
   - 读取 EXIF 信息，提取拍摄时间。
   - 生成水印文本（年月日）。
   - 根据用户设置绘制水印。
   - 保存到新目录。
4. 处理完成后，输出结果目录。


## 5. 依赖库

- Python 3.x
- pillow：图片处理与绘制水印
- piexif：读取和处理 EXIF 信息
